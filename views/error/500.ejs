<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title><%= settings.panelName %> - Error</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="icon" href="/falcon.ico" />

    <style>
      @keyframes float {
        0%,
        100% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-10px);
        }
      }
      .floating {
        animation: float 3s ease-in-out infinite;
      }
    </style>
  </head>
  <body class="bg-gray-900 text-white min-h-screen">
    <nav
      class="fixed w-full bg-gray-900/80 backdrop-blur-lg border-b border-gray-800 z-50"
    >
      <div
        class="max-w-7xl mx-auto px-6 h-16 flex items-center justify-between"
      >
        <div class="flex items-center gap-3">
          <div
            class="w-10 h-10 rounded-xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center"
          >
            <svg
              class="w-5 h-5"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"
              />
            </svg>
          </div>
          <span class="text-xl font-bold"><%= settings.panelName %></span>
        </div>
        <div class="flex items-center gap-4">
          <% if (!isAuthenticated) { %>
          <a
            href="/auth/login"
            class="px-4 py-2 text-gray-300 hover:text-white transition"
            >Login</a
          >
          <a
            href="/auth/register"
            class="px-6 py-2 bg-gradient-to-r from-violet-500 to-purple-600 rounded-lg hover:from-violet-600 hover:to-purple-700 transition"
            >Register</a
          >
          <% } else { %>
          <a
            href="/dashboard"
            class="px-4 py-2 text-gray-300 hover:text-white transition"
            >Dashboard</a
          >
          <a
            href="/auth/logout"
            class="px-6 py-2 bg-gradient-to-r from-red-500 to-red-600 rounded-lg hover:from-red-600 hover:to-red-700 transition"
            >Logout</a
          >
          <% } %>
        </div>
      </div>
    </nav>

    <main
      class="pt-32 pb-20 px-6 min-h-screen flex items-center justify-center"
    >
      <div class="max-w-4xl mx-auto text-center">
        <!-- Error Icon/Illustration -->
        <div class="floating mb-10">
          <% if (errorType === '404') { %>
          <div class="relative mx-auto w-48 h-48">
            <div
              class="absolute inset-0 bg-gradient-to-br from-violet-500/20 to-purple-600/20 rounded-full blur-3xl"
            ></div>
            <div
              class="relative w-48 h-48 rounded-full bg-gray-800/50 border-2 border-violet-500/30 flex items-center justify-center"
            >
              <svg
                class="w-24 h-24 text-violet-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="1.5"
                  d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                />
              </svg>
            </div>
            <div
              class="absolute -top-2 -right-2 w-16 h-16 rounded-full bg-gradient-to-br from-red-500 to-red-600 flex items-center justify-center text-2xl font-bold"
            >
              404
            </div>
          </div>
          <% } else if (errorType === 'auth') { %>
          <div class="relative mx-auto w-48 h-48">
            <div
              class="absolute inset-0 bg-gradient-to-br from-orange-500/20 to-red-600/20 rounded-full blur-3xl"
            ></div>
            <div
              class="relative w-48 h-48 rounded-full bg-gray-800/50 border-2 border-orange-500/30 flex items-center justify-center"
            >
              <svg
                class="w-24 h-24 text-orange-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="1.5"
                  d="M12 15v2m0 0v2m0-2h2m-2 0H10m10 0a9 9 0 11-18 0 9 9 0 0118 0zM12.002 3v.001M12 3v.001"
                />
              </svg>
            </div>
            <div
              class="absolute -top-2 -right-2 w-16 h-16 rounded-full bg-gradient-to-br from-orange-500 to-red-600 flex items-center justify-center"
            >
              <svg
                class="w-8 h-8"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M12 15v2m0 0v2m0-2h2m-2 0H10m10 0a9 9 0 11-18 0 9 9 0 0118 0z"
                />
              </svg>
            </div>
          </div>
          <% } else if (errorType === 'admin') { %>
          <div class="relative mx-auto w-48 h-48">
            <div
              class="absolute inset-0 bg-gradient-to-br from-red-500/20 to-pink-600/20 rounded-full blur-3xl"
            ></div>
            <div
              class="relative w-48 h-48 rounded-full bg-gray-800/50 border-2 border-red-500/30 flex items-center justify-center"
            >
              <svg
                class="w-24 h-24 text-red-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="1.5"
                  d="M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"
                />
              </svg>
            </div>
            <div
              class="absolute -top-2 -right-2 w-16 h-16 rounded-full bg-gradient-to-br from-red-500 to-pink-600 flex items-center justify-center"
            >
              <svg
                class="w-8 h-8"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M18.364 5.636l-12.728 12.728m12.728 0L5.636 5.636"
                />
              </svg>
            </div>
          </div>
          <% } else { %>
          <div class="relative mx-auto w-48 h-48">
            <div
              class="absolute inset-0 bg-gradient-to-br from-yellow-500/20 to-orange-600/20 rounded-full blur-3xl"
            ></div>
            <div
              class="relative w-48 h-48 rounded-full bg-gray-800/50 border-2 border-yellow-500/30 flex items-center justify-center"
            >
              <svg
                class="w-24 h-24 text-yellow-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="1.5"
                  d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                />
              </svg>
            </div>
            <div
              class="absolute -top-2 -right-2 w-16 h-16 rounded-full bg-gradient-to-br from-yellow-500 to-orange-600 flex items-center justify-center text-lg font-bold"
            >
              500
            </div>
          </div>
          <% } %>
        </div>

        <!-- Error Message -->
        <h1 class="text-5xl md:text-6xl font-bold mb-6">
          <span
            class="bg-gradient-to-r from-white via-gray-200 to-gray-300 bg-clip-text text-transparent"
          >
            <% if (errorType === '404') { %> Page Not Found <% } else if
            (errorType === 'auth') { %> Authentication Required <% } else if
            (errorType === 'admin') { %> Access Denied <% } else { %> Server
            Error <% } %>
          </span>
        </h1>

        <p class="text-xl text-gray-400 max-w-2xl mx-auto mb-10">
          <% if (errorType === '404') { %> The page you're looking for doesn't
          exist or has been moved. <% } else if (errorType === 'auth') { %> You
          need to be logged in to access this page. <% } else if (errorType ===
          'admin') { %> You don't have permission to access this page. Admin
          access is required. <% } else { %> Something went wrong on our end.
          Please try again later. <% } %>
        </p>

        <div
          class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-violet-500/10 border border-violet-500/20 text-violet-400 text-sm mb-8"
        >
          <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
            <path d="M13 10V3L4 14h7v7l9-11h-7z" />
          </svg>
          Error Code: <% if (errorType === '404') { %> 404 <% } else if
          (errorType === 'auth') { %> 401 <% } else if (errorType === 'admin') {
          %> 403 <% } else { %> 500 <% } %>
        </div>

        <!-- Action Buttons -->
        <div
          class="flex flex-col sm:flex-row items-center justify-center gap-4 mt-12"
        >
          <% if (errorType === '404') { %>
          <a
            href="/"
            class="px-8 py-3 bg-gradient-to-r from-violet-500 to-purple-600 rounded-lg text-lg font-semibold hover:from-violet-600 hover:to-purple-700 transition"
            >Go Home</a
          >
          <button
            onclick="window.history.back()"
            class="px-8 py-3 border border-violet-500/30 rounded-lg text-lg hover:bg-violet-500/10 transition"
          >
            Go Back
          </button>
          <% } else if (errorType === 'auth') { %>
          <a
            href="/auth/login"
            class="px-8 py-3 bg-gradient-to-r from-violet-500 to-purple-600 rounded-lg text-lg font-semibold hover:from-violet-600 hover:to-purple-700 transition"
            >Login</a
          >
          <a
            href="/auth/register"
            class="px-8 py-3 border border-violet-500/30 rounded-lg text-lg hover:bg-violet-500/10 transition"
            >Register</a
          >
          <a
            href="/"
            class="px-8 py-3 border border-gray-500/30 rounded-lg text-lg hover:bg-gray-500/10 transition"
            >Go Home</a
          >
          <% } else if (errorType === 'admin') { %>
          <a
            href="/dashboard"
            class="px-8 py-3 bg-gradient-to-r from-violet-500 to-purple-600 rounded-lg text-lg font-semibold hover:from-violet-600 hover:to-purple-700 transition"
            >Dashboard</a
          >
          <a
            href="/"
            class="px-8 py-3 border border-violet-500/30 rounded-lg text-lg hover:bg-violet-500/10 transition"
            >Go Home</a
          >
          <% if (!isAuthenticated) { %>
          <a
            href="/auth/login"
            class="px-8 py-3 border border-gray-500/30 rounded-lg text-lg hover:bg-gray-500/10 transition"
            >Login</a
          >
          <% } %> <% } else { %>
          <a
            href="/"
            class="px-8 py-3 bg-gradient-to-r from-violet-500 to-purple-600 rounded-lg text-lg font-semibold hover:from-violet-600 hover:to-purple-700 transition"
            >Go Home</a
          >
          <button
            onclick="window.location.reload()"
            class="px-8 py-3 border border-violet-500/30 rounded-lg text-lg hover:bg-violet-500/10 transition"
          >
            Try Again
          </button>
          <a
            href="mailto:support@<%= settings.panelName.toLowerCase() %>.com"
            class="px-8 py-3 border border-gray-500/30 rounded-lg text-lg hover:bg-gray-500/10 transition"
            >Contact Support</a
          >
          <% } %>
        </div>

        <!-- Additional Help -->
        <div class="mt-16 max-w-3xl mx-auto grid md:grid-cols-3 gap-6">
          <div class="p-6 bg-gray-800/30 rounded-xl border border-gray-700/50">
            <div
              class="w-10 h-10 rounded-lg bg-violet-500/20 flex items-center justify-center mb-3"
            >
              <svg
                class="w-5 h-5 text-violet-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                />
              </svg>
            </div>
            <h3 class="font-semibold mb-2">Help Center</h3>
            <p class="text-gray-400 text-sm">
              Check our documentation for solutions
            </p>
          </div>
          <div class="p-6 bg-gray-800/30 rounded-xl border border-gray-700/50">
            <div
              class="w-10 h-10 rounded-lg bg-violet-500/20 flex items-center justify-center mb-3"
            >
              <svg
                class="w-5 h-5 text-violet-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"
                />
              </svg>
            </div>
            <h3 class="font-semibold mb-2">Contact Support</h3>
            <p class="text-gray-400 text-sm">Get help from our support team</p>
          </div>
          <div class="p-6 bg-gray-800/30 rounded-xl border border-gray-700/50">
            <div
              class="w-10 h-10 rounded-lg bg-violet-500/20 flex items-center justify-center mb-3"
            >
              <svg
                class="w-5 h-5 text-violet-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"
                />
              </svg>
            </div>
            <h3 class="font-semibold mb-2">Community</h3>
            <p class="text-gray-400 text-sm">Join our Discord community</p>
          </div>
        </div>

        <!-- Technical Details (Collapsible) -->
        <% if (process.env.NODE_ENV === 'development' || isAuthenticated) { %>
        <div class="mt-12 max-w-3xl mx-auto">
          <details
            class="bg-gray-800/30 rounded-xl border border-gray-700/50 overflow-hidden"
          >
            <summary
              class="p-4 cursor-pointer hover:bg-gray-700/20 transition flex items-center justify-between"
            >
              <span class="font-semibold">Technical Details</span>
              <svg
                class="w-5 h-5 transition-transform"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M19 9l-7 7-7-7"
                />
              </svg>
            </summary>
            <div class="p-4 border-t border-gray-700/50 bg-gray-900/50">
              <pre
                class="text-sm text-gray-300 overflow-auto"
              ><code>Error Type: <%= errorType %>
Time: <%= new Date().toLocaleString() %>
Path: <%= originalUrl || 'N/A' %>
Method: <%= method || 'N/A' %>
User: <%= user ? user.username : 'Not authenticated' %>
Session: <%= sessionId || 'N/A' %></code></pre>
            </div>
          </details>
        </div>
        <% } %>
      </div>
    </main>

    <footer class="border-t border-gray-800 py-8 px-6">
      <div class="max-w-7xl mx-auto text-center text-gray-500">
        <p>
          &copy; 2024 <%= settings.panelName %>. Open source under MIT License.
        </p>
        <div class="mt-2 flex items-center justify-center gap-4 text-sm">
          <a href="/" class="hover:text-violet-400 transition">Home</a>
          <span class="text-gray-600">•</span>
          <a href="/status" class="hover:text-violet-400 transition">Status</a>
          <span class="text-gray-600">•</span>
          <a href="/docs" class="hover:text-violet-400 transition"
            >Documentation</a
          >
          <span class="text-gray-600">•</span>
          <a href="/privacy" class="hover:text-violet-400 transition"
            >Privacy</a
          >
        </div>
      </div>
    </footer>

    <script>
      // Add subtle background animation
      document.addEventListener("DOMContentLoaded", function () {
        const colors = [
          "from-violet-500/5",
          "from-purple-500/5",
          "from-indigo-500/5",
        ];
        const bg = document.createElement("div");
        bg.className = "fixed inset-0 -z-10 overflow-hidden";
        bg.innerHTML = `
        <div class="absolute -top-40 -right-40 w-80 h-80 rounded-full ${colors[0]} to-transparent blur-3xl"></div>
        <div class="absolute -bottom-40 -left-40 w-80 h-80 rounded-full ${colors[1]} to-transparent blur-3xl"></div>
        <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 rounded-full ${colors[2]} to-transparent blur-3xl"></div>
      `;
        document.body.appendChild(bg);
      });
    </script>
  </body>
</html>
